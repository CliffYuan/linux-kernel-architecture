<!DOCTYPE HTML>
<html>
<!-- <html> -->
<head>
  <title>异常定义|Linux Kernel Architecture 内核笔记</title>
  <meta charset="utf-8" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/feed.xml">
<link rel="icon" href="/images/icons/avatar.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/style/css/bootstrap.css" type="text/css" media="screen">
<link rel="stylesheet" href="/style/css/syntax.css" type="text/css" media="screen">
<script type="text/javascript" src="/style/jquery-1.7.1.min.js"></script>


<link rel="stylesheet" href="/style/style.css" type="text/css">

<script>
$(document).ready(function(){
    $('.nav a').hover(
        function(){
            $(this).animate({opacity: 0.3}, 400)
        }, 
        function(){
            $(this).animate({opacity: 1}, 400)
        });
});
function getURLParameter(name) {
    return decodeURI(
        (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,null])[1]
    );
}
</script>

<style>
.archive li {
    list-style: decimal;
    margin-left: 50px;
    line-height: 2em;
}

.archive .year {
    list-style: none;
}
</style>
  <script type="text/javascript">
        var BYB = {};
  </script>
  <script type="text/javascript">
    BYB.includeScript = function(file,callback){
    var _doc = document.getElementsByTagName('head')[0];
    var js = document.createElement('script');
    js.setAttribute('type', 'text/javascript');
    js.setAttribute('src', file);
    _doc.appendChild(js);
    
    if (!/*@cc_on!@*/0) { //if not IE
    //Firefox2、Firefox3、Safari3.1+、Opera9.6+ support js.onload
    js.onload = function () {
    callback();
    }
    } else {
    //IE6、IE7 support js.onreadystatechange
    js.onreadystatechange = function () {
    if (js.readyState == 'loaded' || js.readyState == 'complete') {
    callback();
    }
    }
    }
    return false;
    }
  </script>
  <meta content="linux kernel architecture 内核笔记 异常定义..." name="description"/>
  <meta content="异常," name="keywords"/>
  <meta property="og:type" content="article" />
  <meta property="og:url" content="http://guojing.me/linux-kernel-architecture//posts/exception/" />
  <meta property="og:title" content="异常定义" />
  <meta property="og:description" content="linux kernel architecture 内核笔记 异常定义..." />
</head>
<body>

<div class="banner">
<ul class="nav nav-pills">
  <li><a href="/">daf94cf87</a></li>
  <!--
  I love bettylwx
    -->
</ul>
</div>

<div class="container">

<div class="main clearfix">
  <div class="title">异常定义</div>

  <div class="content 中断和异常_content_css">
    <p>80x86处理器发布了许多种异常，内核必须为每一种异常提供一个专门地异常处理程序，对于某些异常，CPU控制单元在开始执行异常处理程序前会产生一个硬件出错码，并押入内核态堆栈。</p>

<p>下面列举了一些常用的异常：</p>

<table>
  <thead>
    <tr>
      <th>异常</th>
      <th>说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>当一个程序试图执行整数被0除操作时产生</td>
    </tr>
    <tr>
      <td>1</td>
      <td>设置eflags的TF标志或者一条指令或操作数地地址落在一个活动debug寄存器范围内</td>
    </tr>
    <tr>
      <td>2</td>
      <td>为非屏蔽中断保留，但没有使用</td>
    </tr>
    <tr>
      <td>3</td>
      <td>由int3（断点）指令引起，通常由debugger插入</td>
    </tr>
    <tr>
      <td>4</td>
      <td>当eflags地OF标志被设置时，into检查溢出指令被执行</td>
    </tr>
    <tr>
      <td>5</td>
      <td>对于有效地址范围之外地操作数，检查地址边界指令被执行</td>
    </tr>
    <tr>
      <td>6</td>
      <td>CPU执行单元监测到一个无效地操作码</td>
    </tr>
    <tr>
      <td>7</td>
      <td>随着cr0地TS标志被设置，ESCAPE、MMX或XMM指令被执行</td>
    </tr>
    <tr>
      <td>8</td>
      <td>正常情况下，当CPU正试图为前一个异常调用处理程序时，同时又检测到一个异常，两个异常能被串行地处理，然而，在少数情况下，处理器不能串行地处理它们，因而产生这个异常。</td>
    </tr>
    <tr>
      <td>9</td>
      <td>因外部地数字协处理器引起地问题</td>
    </tr>
    <tr>
      <td>10</td>
      <td>CPU试图让一个上下文切换到无效的TSS进程</td>
    </tr>
    <tr>
      <td>11</td>
      <td>引用一个不存在的内容段</td>
    </tr>
    <tr>
      <td>12</td>
      <td>试图超过栈段界限地指令，或者由ss标识地段不在内存</td>
    </tr>
    <tr>
      <td>13</td>
      <td>违反了80x86保护模式下的保护规则</td>
    </tr>
    <tr>
      <td>14</td>
      <td>寻址地页不在内存，相应的页表项为空，或者违反了一种分页保护机制</td>
    </tr>
    <tr>
      <td>15</td>
      <td>由Intel保留</td>
    </tr>
    <tr>
      <td>16</td>
      <td>集成到CPU芯片中地浮点单元用信号通知一个错误情形，如数字溢出</td>
    </tr>
    <tr>
      <td>17</td>
      <td>操作地地址没有被正确地对齐</td>
    </tr>
    <tr>
      <td>18</td>
      <td>机器检查机制检测到一个CPU错误或总线错误</td>
    </tr>
    <tr>
      <td>19</td>
      <td>集成到CPU芯片中地SSE或SSE2单元对浮点操作用信号通知一个错误情形</td>
    </tr>
    <tr>
      <td>20-31</td>
      <td>这些值由Intel留作将来开发</td>
    </tr>
  </tbody>
</table>

<p>下面列举了一些常用地异常处理程序和信号：</p>

<table>
  <thead>
    <tr>
      <th>异常</th>
      <th>处理程序</th>
      <th>信号</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>divide_error()</td>
      <td>SIGFPE</td>
    </tr>
    <tr>
      <td>1</td>
      <td>debug()</td>
      <td>SIGTRAP</td>
    </tr>
    <tr>
      <td>2</td>
      <td>nmi()</td>
      <td>None</td>
    </tr>
    <tr>
      <td>3</td>
      <td>int3()</td>
      <td>SIGTRAP</td>
    </tr>
    <tr>
      <td>4</td>
      <td>overflow()</td>
      <td>SIGSEGV</td>
    </tr>
    <tr>
      <td>5</td>
      <td>bounds()</td>
      <td>SIGSEGV</td>
    </tr>
    <tr>
      <td>6</td>
      <td>invalid_op()</td>
      <td>SIGILL</td>
    </tr>
    <tr>
      <td>7</td>
      <td>device_not_available()</td>
      <td>None</td>
    </tr>
    <tr>
      <td>8</td>
      <td>doublefault_fn()</td>
      <td>None</td>
    </tr>
    <tr>
      <td>9</td>
      <td>coprocessor_segment_overrun()</td>
      <td>SIGFPE</td>
    </tr>
    <tr>
      <td>10</td>
      <td>invalid_tss()</td>
      <td>SIGSEGV</td>
    </tr>
    <tr>
      <td>11</td>
      <td>segment_not_present()</td>
      <td>SIGBUS</td>
    </tr>
    <tr>
      <td>12</td>
      <td>stack_segment()</td>
      <td>SIGBUS</td>
    </tr>
    <tr>
      <td>13</td>
      <td>general_protection()</td>
      <td>SIGSEGV</td>
    </tr>
    <tr>
      <td>14</td>
      <td>page_fault()</td>
      <td>SIGSEGV</td>
    </tr>
    <tr>
      <td>15</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <td>16</td>
      <td>coprocessor_error()</td>
      <td>SIGFPE</td>
    </tr>
    <tr>
      <td>17</td>
      <td>alignment_check()</td>
      <td>SIGSEGV</td>
    </tr>
    <tr>
      <td>18</td>
      <td>machine_check()</td>
      <td>None</td>
    </tr>
    <tr>
      <td>19</td>
      <td>simd_coprocessor_error()</td>
      <td>SIGFPE</td>
    </tr>
  </tbody>
</table>

  </div>

  <div class="forb">
  
  <a href="http://guojing.me/linux-kernel-architecture/tags/#异常">#异常</a>
  
  </div>

  <div class="suggest">
    
        <a href="http://guojing.me/linux-kernel-architecture/posts/alloc-page/" class="pre">&lt; 分配页</a>
    
    
    
        <a href="http://guojing.me/linux-kernel-architecture/posts/interrupt-descriptor-table/" class="next">中断描述符表 &gt;</a>
    
    </div>
</div>

<!--
<div class="comments 中断和异常_comments_css">
<div id="disqus_container"> 
    
    <a href="#" class="comment" onclick="return false;">点击评论或查看评论。</a>
        
    <div id="disqus_thread"></div>
</div>
</div>
-->

<script type="text/javascript">
    $(document).ready(function(){
        $('#disqus_container .comment').on('click',function(){
            $(this).html('加载中...');
    var disqus_shortname = 'jguoer';
            var that = this;
            BYB.includeScript('http://' + disqus_shortname + '.disqus.com/embed.js',function(){$(that).remove()});
        });
});
</script>

<!--
  Copryright GuoJing 未经允许，严禁直接从Github上转载我的文章，所有文章遵循CC协议，允许复制和转载，但需要保留原作者链接。
  该文章异常定义写于2014年05月04日。
-->

</div>
<div class="footer">
<!--
    Copyright GuoJing, Theme designed by GuoJing
    Theme name Simple
    If you love this theme, please keep my copyright and link to my blog.
    If you DON'T LIKE it and you CAN remove the link. but not share spirit.
    如果你喜欢这个博客构架和皮肤，请保留我作为原作者的权利，我会感谢你。
    你也可以不保留我作为原作者的权利，自然没有任何问题，但似乎没有共享精神。
-->
<!-- © Copryright by<a href="http://guojing.me/" target="_blank">GuoJing</a> 2012-2014 using <a href="http://www.github.com/" target="_blank">GitHub</a> and <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42721249-1', 'guojing.me');
  ga('send', 'pageview');

</script>
</div>

</body>
</html>
