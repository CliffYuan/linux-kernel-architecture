<!DOCTYPE HTML>
<html>
<!-- <html> -->
<head>
  <title>Unix文件系统|Linux Kernel Architecture 内核笔记</title>
  <meta charset="utf-8" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/feed.xml">
<link rel="icon" href="/images/icons/avatar.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/style/css/bootstrap.css" type="text/css" media="screen">
<link rel="stylesheet" href="/style/css/syntax.css" type="text/css" media="screen">
<script type="text/javascript" src="/style/jquery-1.7.1.min.js"></script>


<link rel="stylesheet" href="/style/style.css" type="text/css">

<script>
$(document).ready(function(){
    $('.nav a').hover(
        function(){
            $(this).animate({opacity: 0.3}, 400)
        }, 
        function(){
            $(this).animate({opacity: 1}, 400)
        });
});
function getURLParameter(name) {
    return decodeURI(
        (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,null])[1]
    );
}
</script>

<style>
.archive li {
    list-style: decimal;
    margin-left: 50px;
    line-height: 2em;
}

.archive .year {
    list-style: none;
}
</style>
  <script type="text/javascript">
        var BYB = {};
  </script>
  <script type="text/javascript">
    BYB.includeScript = function(file,callback){
    var _doc = document.getElementsByTagName('head')[0];
    var js = document.createElement('script');
    js.setAttribute('type', 'text/javascript');
    js.setAttribute('src', file);
    _doc.appendChild(js);
    
    if (!/*@cc_on!@*/0) { //if not IE
    //Firefox2、Firefox3、Safari3.1+、Opera9.6+ support js.onload
    js.onload = function () {
    callback();
    }
    } else {
    //IE6、IE7 support js.onreadystatechange
    js.onreadystatechange = function () {
    if (js.readyState == 'loaded' || js.readyState == 'complete') {
    callback();
    }
    }
    }
    return false;
    }
  </script>
  <meta content="linux kernel architecture 内核笔记 Unix文件系统的一些概念..." name="description"/>
  <meta content="文件," name="keywords"/>
  <meta property="og:type" content="article" />
  <meta property="og:url" content="http://guojing.me/linux-kernel-architecture//posts/what-is-file/" />
  <meta property="og:title" content="Unix文件系统" />
  <meta property="og:description" content="linux kernel architecture 内核笔记 Unix文件系统的一些概念..." />
</head>
<body>

<div class="banner">
<ul class="nav nav-pills">
  <li><a href="/">Home</a></li>
  <li><a href="/archive/">Archive</a></li>
  <li><a href="/linux-kernel-architecture/archive/">Kernel</a></li>
</ul>

</div>

<div class="container">

<div class="main clearfix">
  <div class="title">Unix文件系统</div>

  <div class="content 基础_content_css">
    <p>Unix操作系统的设计集中反映在其文件系统上，文件系统有几个重要的特点。</p>

<h3 id="section">文件</h3>

<p>Unix文件是以字节序列组成的信息载体，内核不解释文件的内容，很多编程库实现了更高级的抽象，这些库中的程序必须依靠内核提供的系统调用。从用户来看，文件被组织在一个树结构的命名空间中。除了叶节点以外，树的所有节点都表示目录名，目录节点包含下面的文件以及目录的所有信息。文件或目录名由除了『/』和空字符串『\0』以外的任何ASCII字符序列组成<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>。大多数文件系统对文件名的长度都有限制。</p>

<p>Unix的每个进程都有一个当前工作目录，它属于进程执行上下文（<em>execution context</em>），标识出进程所用的当前目录。进程使用路径名标识一个特定的文件。</p>

<h3 id="section-1">硬链接和软链接</h3>

<p>包含在目录中的文件名就是一个文件的硬链接，或简称链接。在同一目录或不同的目录中，同一个文件可以有几个链接，因此对应几个文件名。硬链接有两个方面限制：</p>

<ol>
  <li>不允许用户给目录创建硬链接。因为这可能把目录树变为环形图，从而就不可能通过名字定位一个文件。</li>
  <li>只有在同一文件系统中的文件之间才能创建链接。这带来比较大的限制，因为现代Unix系统可能包含了多种文件系统，这些文件系统位于不同的磁盘和/或分区，用户也许无法知道它们之间的物理划分。</li>
</ol>

<p>为了克服这些限制，引入了软链接，也称符号链接。符号链接是短文件，这些文件包含有另一个文件的任意一个路径名。路径名可以指向位于任意一个文件系统的任意文件或目录，甚至可以指向一个不存在的文件。</p>

<h3 id="section-2">文件类型</h3>

<p>Unix文件可以是：</p>

<ol>
  <li>普通文件</li>
  <li>目录</li>
  <li>符号链接</li>
  <li>面向块的设备</li>
  <li>面向字符的设备</li>
  <li>管道和命名管道</li>
  <li>套接字（socket）</li>
</ol>

<p>Unix系统的基本设计思想是万物皆为文件，但也有特殊情况，例如网络设备不可能是文件形式。</p>
<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>一些操作系统允许以多种字符表示文件名，例如Unicode。 <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

  </div>

  <div class="forb">
  
  <a href="http://guojing.me/linux-kernel-architecture/tags/#文件">#文件</a>
  
  </div>

  <div class="suggest">
    
        <a href="http://guojing.me/linux-kernel-architecture/posts/lru/" class="pre">&lt; LRU</a>
    
    
    
        <a href="http://guojing.me/linux-kernel-architecture/posts/red-and-black-tree-with-c-code/" class="next">红黑树 &gt;</a>
    
    </div>
</div>

<!--
<div class="comments 基础_comments_css">
<div id="disqus_container"> 
    
    <a href="#" class="comment" onclick="return false;">点击评论或查看评论。</a>
        
    <div id="disqus_thread"></div>
</div>
</div>
-->

<script type="text/javascript">
    $(document).ready(function(){
        $('#disqus_container .comment').on('click',function(){
            $(this).html('加载中...');
    var disqus_shortname = 'jguoer';
            var that = this;
            BYB.includeScript('http://' + disqus_shortname + '.disqus.com/embed.js',function(){$(that).remove()});
        });
});
</script>

<!--
  Copryright GuoJing 未经允许，严禁直接从Github上转载我的文章，所有文章遵循CC协议，允许复制和转载，但需要保留原作者链接。
  该文章Unix文件系统写于2014年03月14日。
-->

</div>
<div class="footer">
<!--
    Copyright GuoJing, Theme designed by GuoJing
    Theme name Simple
    If you love this theme, please keep my copyright and link to my blog.
    If you DON'T LIKE it and you CAN remove the link. but not share spirit.
    如果你喜欢这个博客构架和皮肤，请保留我作为原作者的权利，我会感谢你。
    你也可以不保留我作为原作者的权利，自然没有任何问题，但似乎没有共享精神。
-->
<!-- © Copryright by<a href="http://guojing.me/" target="_blank">GuoJing</a> 2012-2014 using <a href="http://www.github.com/" target="_blank">GitHub</a> and <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> -->
<div class="author">
    <div class="icon">
        <img src="/images/authors/guojing.jpg" alt="me"/>
    </div>
    <div class="name">
        <a href="/about">GuoJing</a>
    </div>
    <div class="description">
        Linux Kernel Architecture 内核笔记
    </div>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42721249-1', 'guojing.me');
  ga('send', 'pageview');

</script>
</div>

</body>
</html>
